try{window.performance.mark("async-atlaskit-notification-indicator.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-atlaskit-notification-indicator"],{"7QTw":function(e,s,t){"use strict";var r=t("q1tI"),n=t.n(r),a=t("3tO9"),d=t.n(a),o=t("QILm"),i=t.n(o),c=t("pVnL"),l=t.n(c);const b=0,v=2,p=4,g=6,u=8,m=12,f=16,h=24,y=32,k=40,x=48,F=64,j=Object(r.createContext)("elevation.surface");j.displayName="SurfaceProvider";const w=["children","as","className","display","flexDirection","alignItems","justifyContent","backgroundColor","borderColor","borderStyle","borderWidth","borderRadius","padding","paddingBlock","paddingInline","position","height","overflow","width","UNSAFE_style","testId"];const A=Object(r.forwardRef)(((e,s)=>{
let{children:r,as:n="div",className:a,display:o="flex",flexDirection:c,alignItems:b,justifyContent:v,backgroundColor:p,borderColor:g,borderStyle:u,borderWidth:m,borderRadius:f,padding:h,paddingBlock:y,paddingInline:k,position:x="relative",height:F,overflow:A,width:O,UNSAFE_style:_,testId:W}=e,J=i()(e,w);const[Q,M]=p||[],[$,G]=g||[],K=Object(t("AeFk").jsx)(n,l()({style:d()(d()(d()({},_),M&&{"--ds-bg-fb":M}),G&&{"--ds-bo-fb":G}),ref:s},J,{className:a,css:[N,o&&q[o],h&&T[h],x&&R[x],y&&U[y],k&&D[k],b&&B[b],v&&z[v],Q&&H[Q],$&&P[$],u&&I[u],m&&C[m],f&&E[f],c&&S[c],O&&V[O],F&&L[F]],"data-testid":W}),r);return Q?Object(t("AeFk").jsx)(j.Provider,{value:Q},K):K}));A.displayName="Box";var O=A;const I={none:{name:"ksse9g",styles:"border-style:none"},solid:{name:"fxc8cu",styles:"border-style:solid"},dashed:{name:"10ikx64",styles:"border-style:dashed"},dotted:{name:"hvsrqs",styles:"border-style:dotted"}},C={"0px":{name:"wkb535",styles:"border-width:0px"},"1px":{name:"my9kfw",styles:"border-width:1px"
},"2px":{name:"1rb3tqx",styles:"border-width:2px"},"3px":{name:"10904xo",styles:"border-width:3px"}},E={normal:{name:"17egndr",styles:"border-radius:3px"},rounded:{name:"18wgrk7",styles:"border-radius:50%"},badge:{name:"arfe1i",styles:"border-radius:8px"}},S={column:{name:"qdeacm",styles:"flex-direction:column"},row:{name:"mcnhyd",styles:"flex-direction:row"}},B={center:{name:"1h3rtzg",styles:"align-items:center"},baseline:{name:"fzr848",styles:"align-items:baseline"},flexStart:{name:"5dh3r6",styles:"align-items:flex-start"},flexEnd:{name:"1kx2ysr",styles:"align-items:flex-end"}},z={center:{name:"f7ay7b",styles:"justify-content:center"},flexStart:{name:"11g6mpt",styles:"justify-content:flex-start"},flexEnd:{name:"1f60if8",styles:"justify-content:flex-end"}},q={block:{name:"4zleql",styles:"display:block"},inline:{name:"1u4hpl4",styles:"display:inline"},flex:{name:"zjik7",styles:"display:flex"},inlineFlex:{name:"1lv1yo7",styles:"display:inline-flex"}},N={name:"1b8qmvl",
styles:"box-sizing:border-box;appearance:none;border:none"},R={absolute:{name:"a4hmbt",styles:"position:absolute"},relative:{name:"bjn8wh",styles:"position:relative"},static:{name:"1l675nn",styles:"position:static"}},T={"sp-0":Object(t("AeFk").css)({padding:b}),"sp-25":Object(t("AeFk").css)({padding:v}),"sp-50":Object(t("AeFk").css)({padding:p}),"sp-75":Object(t("AeFk").css)({padding:g}),"sp-100":Object(t("AeFk").css)({padding:u}),"sp-150":Object(t("AeFk").css)({padding:m}),"sp-200":Object(t("AeFk").css)({padding:f}),"sp-300":Object(t("AeFk").css)({padding:h}),"sp-400":Object(t("AeFk").css)({padding:y}),"sp-500":Object(t("AeFk").css)({padding:k}),"sp-600":Object(t("AeFk").css)({padding:x}),"sp-800":Object(t("AeFk").css)({padding:F})},U={"sp-0":Object(t("AeFk").css)({paddingBlock:b}),"sp-25":Object(t("AeFk").css)({paddingBlock:v}),"sp-50":Object(t("AeFk").css)({paddingBlock:p}),"sp-75":Object(t("AeFk").css)({paddingBlock:g}),"sp-100":Object(t("AeFk").css)({paddingBlock:u}),
"sp-150":Object(t("AeFk").css)({paddingBlock:m}),"sp-200":Object(t("AeFk").css)({paddingBlock:f}),"sp-300":Object(t("AeFk").css)({paddingBlock:h}),"sp-400":Object(t("AeFk").css)({paddingBlock:y}),"sp-500":Object(t("AeFk").css)({paddingBlock:k}),"sp-600":Object(t("AeFk").css)({paddingBlock:x}),"sp-800":Object(t("AeFk").css)({paddingBlock:F})},D={"sp-0":Object(t("AeFk").css)({paddingInline:b}),"sp-25":Object(t("AeFk").css)({paddingInline:v}),"sp-50":Object(t("AeFk").css)({paddingInline:p}),"sp-75":Object(t("AeFk").css)({paddingInline:g}),"sp-100":Object(t("AeFk").css)({paddingInline:u}),"sp-150":Object(t("AeFk").css)({paddingInline:m}),"sp-200":Object(t("AeFk").css)({paddingInline:f}),"sp-300":Object(t("AeFk").css)({paddingInline:h}),"sp-400":Object(t("AeFk").css)({paddingInline:y}),"sp-500":Object(t("AeFk").css)({paddingInline:k}),"sp-600":Object(t("AeFk").css)({paddingInline:x}),"sp-800":Object(t("AeFk").css)({paddingInline:F})},V={"sp-0":Object(t("AeFk").css)({width:b}),
"sp-25":Object(t("AeFk").css)({width:v}),"sp-50":Object(t("AeFk").css)({width:p}),"sp-75":Object(t("AeFk").css)({width:g}),"sp-100":Object(t("AeFk").css)({width:u}),"sp-150":Object(t("AeFk").css)({width:m}),"sp-200":Object(t("AeFk").css)({width:f}),"sp-300":Object(t("AeFk").css)({width:h}),"sp-400":Object(t("AeFk").css)({width:y}),"sp-500":Object(t("AeFk").css)({width:k}),"sp-600":Object(t("AeFk").css)({width:x}),"sp-800":Object(t("AeFk").css)({width:F})},L={"sp-0":Object(t("AeFk").css)({height:b}),"sp-25":Object(t("AeFk").css)({height:v}),"sp-50":Object(t("AeFk").css)({height:p}),"sp-75":Object(t("AeFk").css)({height:g}),"sp-100":Object(t("AeFk").css)({height:u}),"sp-150":Object(t("AeFk").css)({height:m}),"sp-200":Object(t("AeFk").css)({height:f}),"sp-300":Object(t("AeFk").css)({height:h}),"sp-400":Object(t("AeFk").css)({height:y}),"sp-500":Object(t("AeFk").css)({height:k}),"sp-600":Object(t("AeFk").css)({height:x}),"sp-800":Object(t("AeFk").css)({height:F})},P={"color.border":{
name:"2o41dr",styles:"border-color:var(--ds-border, var(--ds-bo-fb))"},bold:{name:"13qpxig",styles:"border-color:var(--ds-border-bold, var(--ds-bo-fb))"},inverse:{name:"1oj7h93",styles:"border-color:var(--ds-border-inverse, var(--ds-bo-fb))"},focused:{name:"19k0aqc",styles:"border-color:var(--ds-border-focused, var(--ds-bo-fb))"},input:{name:"w30cug",styles:"border-color:var(--ds-border-input, var(--ds-bo-fb))"},disabled:{name:"1epdk3x",styles:"border-color:var(--ds-border-disabled, var(--ds-bo-fb))"},brand:{name:"1fe0by9",styles:"border-color:var(--ds-border-brand, var(--ds-bo-fb))"},selected:{name:"o5a908",styles:"border-color:var(--ds-border-selected, var(--ds-bo-fb))"},danger:{name:"122aji2",styles:"border-color:var(--ds-border-danger, var(--ds-bo-fb))"},warning:{name:"1ju7jxv",styles:"border-color:var(--ds-border-warning, var(--ds-bo-fb))"},success:{name:"dfmrvr",styles:"border-color:var(--ds-border-success, var(--ds-bo-fb))"},discovery:{name:"tg2zsq",
styles:"border-color:var(--ds-border-discovery, var(--ds-bo-fb))"},information:{name:"1v6dine",styles:"border-color:var(--ds-border-information, var(--ds-bo-fb))"}},H={disabled:{name:"16lgq23",styles:"background-color:var(--ds-background-disabled, var(--ds-bg-fb))"},"inverse.subtle":{name:"bg49xt",styles:"background-color:var(--ds-background-inverse-subtle, var(--ds-bg-fb))"},input:{name:"1mxzhnb",styles:"background-color:var(--ds-background-input, var(--ds-bg-fb))"},neutral:{name:"1x48016",styles:"background-color:var(--ds-background-neutral, var(--ds-bg-fb))"},"neutral.subtle":{name:"11pp7cx",styles:"background-color:var(--ds-background-neutral-subtle, var(--ds-bg-fb))"},"neutral.bold":{name:"b6beq0",styles:"background-color:var(--ds-background-neutral-bold, var(--ds-bg-fb))"},"brand.bold":{name:"dunl1y",styles:"background-color:var(--ds-background-brand-bold, var(--ds-bg-fb))"},selected:{name:"1wfyri7",styles:"background-color:var(--ds-background-selected, var(--ds-bg-fb))"},
"selected.bold":{name:"7bwsjk",styles:"background-color:var(--ds-background-selected-bold, var(--ds-bg-fb))"},danger:{name:"1wefsgf",styles:"background-color:var(--ds-background-danger, var(--ds-bg-fb))"},"danger.bold":{name:"1uyjbh4",styles:"background-color:var(--ds-background-danger-bold, var(--ds-bg-fb))"},warning:{name:"1ts2aa2",styles:"background-color:var(--ds-background-warning, var(--ds-bg-fb))"},"warning.bold":{name:"13m1dds",styles:"background-color:var(--ds-background-warning-bold, var(--ds-bg-fb))"},success:{name:"21aql",styles:"background-color:var(--ds-background-success, var(--ds-bg-fb))"},"success.bold":{name:"nti5l3",styles:"background-color:var(--ds-background-success-bold, var(--ds-bg-fb))"},discovery:{name:"1ro2sa6",styles:"background-color:var(--ds-background-discovery, var(--ds-bg-fb))"},"discovery.bold":{name:"yxammf",styles:"background-color:var(--ds-background-discovery-bold, var(--ds-bg-fb))"},information:{name:"9fue2y",
styles:"background-color:var(--ds-background-information, var(--ds-bg-fb))"},"information.bold":{name:"qw9y5r",styles:"background-color:var(--ds-background-information-bold, var(--ds-bg-fb))"},"color.blanket":{name:"w8uip0",styles:"background-color:var(--ds-blanket, var(--ds-bg-fb))"},"color.blanket.selected":{name:"1xp8e9h",styles:"background-color:var(--ds-blanket-selected, var(--ds-bg-fb))"},"color.blanket.danger":{name:"tw8bkf",styles:"background-color:var(--ds-blanket-danger, var(--ds-bg-fb))"},"elevation.surface":{name:"gkeac2",styles:"background-color:var(--ds-surface, var(--ds-bg-fb))"},"elevation.surface.sunken":{name:"bfovpx",styles:"background-color:var(--ds-surface-sunken, var(--ds-bg-fb))"},"elevation.surface.raised":{name:"iyv903",styles:"background-color:var(--ds-surface-raised, var(--ds-bg-fb))"},"elevation.surface.overlay":{name:"1isalkp",styles:"background-color:var(--ds-surface-overlay, var(--ds-bg-fb))"}},_={"neutral.bold":"inverse","neutral.bold.hovered":"inverse",
"neutral.bold.pressed":"inverse","brand.bold":"inverse","brand.bold.hovered":"inverse","brand.bold.pressed":"inverse","selected.bold":"inverse","selected.bold.hovered":"inverse","selected.bold.pressed":"inverse","danger.bold":"inverse","danger.bold.hovered":"inverse","danger.bold.pressed":"inverse","warning.bold":"warning.inverse","warning.bold.hovered":"warning.inverse","warning.bold.pressed":"warning.inverse","success.bold":"inverse","success.bold.hovered":"inverse","success.bold.pressed":"inverse","discovery.bold":"inverse","discovery.bold.hovered":"inverse","discovery.bold.pressed":"inverse","information.bold":"inverse","information.bold.hovered":"inverse","information.bold.pressed":"inverse"};const W=["span","div","p"],J={"11px":{name:"1t89zvq",styles:"font-size:11px"},"12px":{name:"rnnx2x",styles:"font-size:12px"},"14px":{name:"mmdt3g",styles:"font-size:14px"}},Q={400:{name:"mmvz9h",styles:"font-weight:400"},500:{name:"f3vz0n",styles:"font-weight:500"},700:{name:"1j389vi",
styles:"font-weight:700"}},M={"12px":{name:"15sie6q",styles:"line-height:12px"},"16px":{name:"1psat4j",styles:"line-height:16px"},"20px":{name:"1l4ndn6",styles:"line-height:20px"},"24px":{name:"1gt2cgk",styles:"line-height:24px"},"28px":{name:"1webqnb",styles:"line-height:28px"},"32px":{name:"zsb1p1",styles:"line-height:32px"},"40px":{name:"ht6xsx",styles:"line-height:40px"}},$={center:{name:"1azakc",styles:"text-align:center"},end:{name:"va2k03",styles:"text-align:end"},start:{name:"9kuh93",styles:"text-align:start"}},G={none:{name:"kxbue8",styles:"text-transform:none"},lowercase:{name:"1tq8czj",styles:"text-transform:lowercase"},uppercase:{name:"50zrmy",styles:"text-transform:uppercase"}},K={top:{name:"40f4ru",styles:"vertical-align:top"},middle:{name:"1989ovb",styles:"vertical-align:middle"},bottom:{name:"3lrvfj",styles:"vertical-align:bottom"}},X=Object(t("AeFk").css)({boxSizing:"border-box",margin:"0px",padding:"0px",
fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"}),Y={name:"1h52dri",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap"};var Z=({as:e="span",children:s,color:n,fontSize:a,fontWeight:o,lineHeight:i,shouldTruncate:c=!1,textAlign:l,textTransform:b,verticalAlign:v,testId:p,UNSAFE_style:g})=>{const u=(()=>Object(r.useContext)(j))(),[m=_[u],f]=n||[];return Object(t("9R94").a)(W.includes(e),`@atlaskit/ds-explorations: Text received an invalid "as" value of "${e}"`),Object(t("AeFk").jsx)(e,{style:d()(d()({},g),f&&{"--ds-co-fb":f}),css:[X,m&&ee[m],a&&J[a],o&&Q[o],i&&M[i],c&&Y,l&&$[l],b&&G[b],v&&K[v]],"data-testid":p},s)};const ee={"color.text":{name:"1a39xvh",styles:"color:var(--ds-text, var(--ds-co-fb))"},subtle:{name:"4qkkib",styles:"color:var(--ds-text-subtle, var(--ds-co-fb))"},subtlest:{name:"1ik0qf0",styles:"color:var(--ds-text-subtlest, var(--ds-co-fb))"},disabled:{
name:"8fflsw",styles:"color:var(--ds-text-disabled, var(--ds-co-fb))"},inverse:{name:"r6om4v",styles:"color:var(--ds-text-inverse, var(--ds-co-fb))"},brand:{name:"1m16czp",styles:"color:var(--ds-text-brand, var(--ds-co-fb))"},selected:{name:"paqzny",styles:"color:var(--ds-text-selected, var(--ds-co-fb))"},danger:{name:"gxx2f7",styles:"color:var(--ds-text-danger, var(--ds-co-fb))"},warning:{name:"rzmwmx",styles:"color:var(--ds-text-warning, var(--ds-co-fb))"},"warning.inverse":{name:"15v1jpp",styles:"color:var(--ds-text-warning-inverse, var(--ds-co-fb))"},success:{name:"1xrfddv",styles:"color:var(--ds-text-success, var(--ds-co-fb))"},discovery:{name:"1squ1c5",styles:"color:var(--ds-text-discovery, var(--ds-co-fb))"},information:{name:"1kpzi11",styles:"color:var(--ds-text-information, var(--ds-co-fb))"}},se={added:{light:"var(--ds-background-success, #E3FCEF)",dark:"var(--ds-background-success, #E3FCEF)"},default:{light:"var(--ds-background-neutral, #DFE1E6)",
dark:"var(--ds-background-neutral, #3B475C)"},important:{light:"var(--ds-background-danger-bold, #DE350B)",dark:"var(--ds-background-danger-bold, #DE350B)"},primary:{light:"var(--ds-background-brand-bold, #0052CC)",dark:"var(--ds-background-brand-bold, #4C9AFF)"},primaryInverted:{light:"var(--ds-surface, #FFFFFF)",dark:"var(--ds-surface, #9FB0CC)"},removed:{light:"var(--ds-background-danger, #FFEBE6)",dark:"var(--ds-background-danger, #FFEBE6)"}},te={added:{light:"var(--ds-text-success, #006644)",dark:"var(--ds-text-success, #006644)"},default:{light:"var(--ds-text, #172B4D)",dark:"var(--ds-text, #E6EDFA)"},important:{light:"var(--ds-text-inverse, #FFFFFF)",dark:"var(--ds-text-inverse, #FFFFFF)"},primary:{light:"var(--ds-text-inverse, #FFFFFF)",dark:"var(--ds-text-inverse, #0D1424)"},primaryInverted:{light:"var(--ds-text-brand, #0747A6)",dark:"var(--ds-text-brand, #0D1424)"},removed:{light:"var(--ds-text-danger, #BF2600)",dark:"var(--ds-text-danger, #BF2600)"}};function re(e=0){
return e<0?0:e}const ne=Object(r.memo)((function({appearance:e="default",children:s=0,max:r=99,style:a,testId:d}){var o,i;const{mode:c}=Object(t("1chJ").b)(),l=null!==(o=null==a?void 0:a.backgroundColor)&&void 0!==o?o:se[e][c],b=null!==(i=null==a?void 0:a.color)&&void 0!==i?i:te[e][c];return n.a.createElement(O,{testId:d,as:"span",borderRadius:"badge",display:"inlineFlex",paddingInline:"sp-75",paddingBlock:"sp-25",UNSAFE_style:{backgroundColor:l,color:b}},n.a.createElement(Z,{fontSize:"12px",lineHeight:"12px",textAlign:"center"},"number"==typeof s&&r?function(e,s){const t=re(e),r=re(s);return r&&r<t?`${r}+`:t===1/0?"\u221e":t.toString()}(s,r):s))}));ne.displayName="Badge";s.a=ne},"9R94":function(e,s,t){"use strict";t.d(s,"a",(function(){return n}));var r="Invariant failed";function n(e,s){if(!e)throw new Error(r)}},VwTp:function(s,t,r){"use strict";r.r(t),r.d(t,"NotificationIndicator",(function(){return b}));var n=r("lSNA"),a=r.n(n),d=r("q1tI"),o=r.n(d);const i="navigation"
;class c extends d.Component{constructor(...s){super(...s),a()(this,"visibilityChangesSinceTimer",0),a()(this,"state",{count:null}),a()(this,"onVisibilityChange",(()=>{this.props.refreshOnVisibilityChange&&this.shouldRefresh()&&(this.visibilityChangesSinceTimer++,this.refresh("visibility"))})),a()(this,"shouldRefresh",(()=>!document.hidden||this.props.refreshOnHidden)),a()(this,"timerTick",(()=>{this.visibilityChangesSinceTimer=0,this.refresh("timer")})),a()(this,"handleAnalytics",(e=>{const{newCount:s,oldCount:t,source:r}=e;if(this.props.createAnalyticsEvent&&s>0&&0===t){this.props.createAnalyticsEvent({actionSubject:"notificationIndicator",action:"activated",attributes:{badgeCount:s,refreshSource:r}}).fire(i)}if(this.props.createAnalyticsEvent&&s!==t){this.props.createAnalyticsEvent({actionSubject:"notificationIndicator",action:"updated",attributes:{oldCount:t,newCount:s,refreshSource:r}}).fire(i)}})),a()(this,"refresh",(async s=>{if(!this.notificationLogProvider)return
;if(!this.shouldRefresh())return;const t={source:s,visibilityChangesSinceTimer:this.visibilityChangesSinceTimer},r=this.props.onCountUpdating&&this.props.onCountUpdating(t)||{};if(!r.skip)try{const e=r.countOverride||(await this.notificationLogProvider.countUnseenNotifications({queryParams:{currentCount:this.state.count||0}})).count;if(null===this.state.count||this.state.count!==e){const t={oldCount:this.state.count||0,newCount:e,source:s};this.handleAnalytics(t),this.props.onCountUpdated&&this.props.onCountUpdated(t),this.setState({count:e})}}catch(e){}}))}async componentDidMount(){this.notificationLogProvider=await this.props.notificationLogProvider,this.refresh("mount"),this.updateInterval(),document.addEventListener("visibilitychange",this.onVisibilityChange)}componentDidUpdate(e){e.refreshRate!==this.props.refreshRate&&this.updateInterval()}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId),
document.removeEventListener("visibilitychange",this.onVisibilityChange)}updateInterval(){const{refreshRate:e}=this.props;this.intervalId&&clearInterval(this.intervalId),e&&e>0&&(this.intervalId=window.setInterval(this.timerTick,e))}render(){const{count:e}=this.state,{appearance:s,max:t}=this.props;return e?o.a.createElement("div",{"data-test-selector":"NotificationIndicator"},o.a.createElement(r("7QTw").a,{max:t,appearance:s},e)):null}}c.displayName="NotificationIndicator",a()(c,"defaultProps",{appearance:"important",max:9,refreshRate:0,refreshOnHidden:!1,refreshOnVisibilityChange:!0});var l=c;const b=Object(r("VHV8").a)()(l)}}]);try{window.__jsEvalStop("async-atlaskit-notification-indicator.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-atlaskit-notification-indicator.e2e37ed96fb67cea025d.8.js.map